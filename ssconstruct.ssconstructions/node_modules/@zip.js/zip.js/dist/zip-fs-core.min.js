((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).zip={})})(this,function(e){"use strict";const{Array:t,Object:r,String:s,Number:a,BigInt:n,Math:i,Date:o,Map:c,Set:l,Response:d,URL:u,Error:p,Uint8Array:f,Uint16Array:h,Uint32Array:w,DataView:m,Blob:g,Promise:y,TextEncoder:b,TextDecoder:z,document:S,crypto:x,btoa:R,TransformStream:D,ReadableStream:E,WritableStream:F,CompressionStream:_,DecompressionStream:k,navigator:T,Worker:A}="undefined"!=typeof globalThis?globalThis:this||self;var v=void 0!==S?S.currentScript:null;const U=4294967295,C=65535,N=67324752,W=134695760,I=W,O=33639248,M=101010256,L=101075792,B=117853008,H=22,P=21589,Z=2048,V="/",q=30,K=new o(2107,11,31),Y=new o(1980,0,1),G=void 0,j="undefined",X="function";let J=2;try{typeof T!=j&&T.hardwareConcurrency&&(J=T.hardwareConcurrency)}catch(e){}const Q={workerURI:"./core/web-worker.js",wasmURI:"./core/streams/zlib/zlib-streams.wasm",chunkSize:65536,maxWorkers:J,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,CompressionStream:typeof _!=j&&_,DecompressionStream:typeof k!=j&&k},$=r.assign({},Q);function ee(){return $}function te(e){return i.max(e.chunkSize,64)}function re(e){const{baseURI:t,chunkSize:r,maxWorkers:s,terminateWorkerTimeout:a,useCompressionStream:n,useWebWorkers:i,CompressionStream:o,DecompressionStream:c,CompressionStreamZlib:l,DecompressionStreamZlib:d,workerURI:u,wasmURI:p}=e;se("baseURI",t),se("wasmURI",p),se("workerURI",u),se("chunkSize",r),se("maxWorkers",s),se("terminateWorkerTimeout",a),se("useCompressionStream",n),se("useWebWorkers",i),se("CompressionStream",o),se("DecompressionStream",c),se("CompressionStreamZlib",l),se("DecompressionStreamZlib",d)}function se(e,t){t!==G&&($[e]=t)}let ae,ne,ie,oe;function ce(e,t,r={}){const s="number"==typeof r.level?r.level:-1,a="number"==typeof r.outBuffer?r.outBuffer:65536,n="number"==typeof r.inBufferSize?r.inBufferSize:65536;return new D({start(){let r;if(this.out=ne(a),this.in=ne(n),this.inBufferSize=n,this._scratch=new f(a),e?(this._process=ae.deflate_process,this._last_consumed=ae.deflate_last_consumed,this._end=ae.deflate_end,this.streamHandle=ae.deflate_new(),r="gzip"===t?ae.deflate_init_gzip(this.streamHandle,s):"deflate-raw"===t?ae.deflate_init_raw(this.streamHandle,s):ae.deflate_init(this.streamHandle,s)):"deflate64-raw"===t?(this._process=ae.inflate9_process,this._last_consumed=ae.inflate9_last_consumed,this._end=ae.inflate9_end,this.streamHandle=ae.inflate9_new(),r=ae.inflate9_init_raw(this.streamHandle)):(this._process=ae.inflate_process,this._last_consumed=ae.inflate_last_consumed,this._end=ae.inflate_end,this.streamHandle=ae.inflate_new(),r="deflate-raw"===t?ae.inflate_init_raw(this.streamHandle):"gzip"===t?ae.inflate_init_gzip(this.streamHandle):ae.inflate_init(this.streamHandle)),0!==r)throw new p("init failed:"+r)},transform(t,r){try{const s=t,n=new f(oe.buffer),o=this._process,c=this._last_consumed,l=this.out,d=this._scratch;let u=0;for(;u<s.length;){const t=i.min(s.length-u,32768);this.in&&this.inBufferSize>=t||(this.in&&ie&&ie(this.in),this.in=ne(t),this.inBufferSize=t),n.set(s.subarray(u,u+t),this.in);const f=o(this.streamHandle,this.in,t,l,a,0);if(!e&&0>f)throw new p("process error:"+f);const h=16777215&f;h&&(d.set(n.subarray(l,l+h),0),r.enqueue(d.slice(0,h)));const w=c(this.streamHandle);if(0===w)break;u+=w}}catch(e){this._end&&this.streamHandle&&this._end(this.streamHandle),this.in&&ie&&ie(this.in),this.out&&ie&&ie(this.out),r.error(e)}},flush(t){try{const r=new f(oe.buffer),s=this._process,n=this.out,i=this._scratch;for(;;){const o=s(this.streamHandle,0,0,n,a,4);if(!e&&0>o)throw new p("process error:"+o);const c=16777215&o,l=o>>24&255;if(c&&(i.set(r.subarray(n,n+c),0),t.enqueue(i.slice(0,c))),1===l||0===c)break}}catch(e){t.error(e)}finally{if(this._end&&this.streamHandle){const e=this._end(this.streamHandle);0!==e&&t.error(new p("end error:"+e))}this.in&&ie&&ie(this.in),this.out&&ie&&ie(this.out)}}})}let le=!1;function de(){le=!1}const ue="HTTP error ",pe="HTTP Range not supported",fe="Range",he="GET",we="bytes",me=65536,ge="writable";class ye{constructor(){this.size=0}init(){this.initialized=!0}}class be extends ye{get readable(){const e=this,{chunkSize:t=me}=e,r=new E({start(){this.chunkOffset=0},async pull(s){const{offset:a=0,size:n,diskNumberStart:o}=r,{chunkOffset:c}=this,l=n===G?t:i.min(t,n-c),d=await Ge(e,a+c,l,o);s.enqueue(d),c+t>n||n===G&&!d.length&&l?s.close():this.chunkOffset+=t}});return r}}class ze extends ye{constructor(){super();const e=this,t=new F({write(t){if(!e.initialized)throw new p("Writer not initialized");return e.writeUint8Array(t)}});r.defineProperty(e,ge,{get:()=>t})}writeUint8Array(){}}class Se extends be{constructor(e){super();let t=e.length;for(;"="==e.charAt(t-1);)t--;const s=e.indexOf(",")+1;r.assign(this,{dataURI:e,dataStart:s,size:i.floor(.75*(t-s))})}readUint8Array(e,t){const{dataStart:r,dataURI:s}=this,a=new f(t),n=4*i.floor(e/3),o=atob(s.substring(n+r,4*i.ceil((e+t)/3)+r)),c=e-3*i.floor(n/4);let l=0;for(let e=c;c+t>e&&e<o.length;e++)a[e-c]=o.charCodeAt(e),l++;return l<a.length?a.subarray(0,l):a}}class xe extends ze{constructor(e){super(),r.assign(this,{data:"data:"+(e||"")+";base64,",pending:[]})}writeUint8Array(e){const t=this;let r=0,a=t.pending;const n=t.pending.length;for(t.pending="",r=0;r<3*i.floor((n+e.length)/3)-n;r++)a+=s.fromCharCode(e[r]);for(;r<e.length;r++)t.pending+=s.fromCharCode(e[r]);a.length&&(a.length>2?t.data+=R(a):t.pending+=a)}getData(){return this.data+R(this.pending)}}class Re extends be{constructor(e){super(),r.assign(this,{blob:e,size:e.size})}async readUint8Array(e,t){const r=this,s=e+t,a=e||s<r.size?r.blob.slice(e,s):r.blob;let n=await a.arrayBuffer();return n.byteLength>t&&(n=n.slice(e,s)),new f(n)}}class De extends ye{constructor(e){super();const t=new D,s=[];e&&s.push(["Content-Type",e]),r.defineProperty(this,ge,{get:()=>t.writable}),this.blob=new d(t.readable,{headers:s}).blob()}getData(){return this.blob}}class Ee extends Re{constructor(e){super(new g([e],{type:"text/plain"}))}}class Fe extends De{constructor(e){super(e),r.assign(this,{encoding:e,utf8:!e||"utf-8"==e.toLowerCase()})}async getData(){const{encoding:e,utf8:t}=this,s=await super.getData();if(s.text&&t)return s.text();{const t=new FileReader;return new y((a,n)=>{r.assign(t,{onload:({target:e})=>a(e.result),onerror:()=>n(t.error)}),t.readAsText(s,e)})}}}class _e extends be{constructor(e,t){super(),Te(this,e,t)}async init(){await Ae(this,Me,Ne),super.init()}readUint8Array(e,t){return ve(this,e,t,Me,Ne)}}class ke extends be{constructor(e,t){super(),Te(this,e,t)}async init(){await Ae(this,Le,We),super.init()}readUint8Array(e,t){return ve(this,e,t,Le,We)}}function Te(e,t,s){const{preventHeadRequest:a,useRangeHeader:n,forceRangeRequests:i,combineSizeEocd:o}=s;delete(s=r.assign({},s)).preventHeadRequest,delete s.useRangeHeader,delete s.forceRangeRequests,delete s.combineSizeEocd,delete s.useXHR,r.assign(e,{url:t,options:s,preventHeadRequest:a,useRangeHeader:n,forceRangeRequests:i,combineSizeEocd:o})}async function Ae(e,t,r){const{url:s,preventHeadRequest:n,useRangeHeader:i,forceRangeRequests:o,combineSizeEocd:c}=e;if((e=>{const{baseURI:t}=ee(),{protocol:r}=new u(e,t);return"http:"==r||"https:"==r})(s)&&(i||o)&&(void 0===n||n)){const s=await t(he,e,Ue(e,c?-22:void 0));if(!o&&s.headers.get("Accept-Ranges")!=we)throw new p(pe);{let n;c&&(e.eocdCache=new f(await s.arrayBuffer()));const i=s.headers.get("Content-Range");if(i){const e=i.trim().split(/\s*\/\s*/);if(e.length){const t=e[1];t&&"*"!=t&&(n=a(t))}}n===G?await Oe(e,t,r):e.size=n}}else await Oe(e,t,r)}async function ve(e,t,r,s,a){const{useRangeHeader:n,forceRangeRequests:i,eocdCache:o,size:c,options:l}=e;if(n||i){if(o&&t==c-H&&r==H)return o;if(c>t){t+r>c&&(r=c-t);const a=await s(he,e,Ue(e,t,r));if(206!=a.status)throw new p(pe);return new f(await a.arrayBuffer())}return new f}{const{data:s}=e;return s||await a(e,l),new f(e.data.subarray(t,t+r))}}function Ue(e,t=0,s=1){return r.assign({},Ce(e),{[fe]:we+"="+(0>t?t:t+"-"+(t+s-1))})}function Ce({options:e}){const{headers:t}=e;if(t)return Symbol.iterator in t?r.fromEntries(t):t}async function Ne(e){await Ie(e,Me)}async function We(e){await Ie(e,Le)}async function Ie(e,t){const r=await t(he,e,Ce(e));e.data=new f(await r.arrayBuffer()),e.size||(e.size=e.data.length)}async function Oe(e,t,r){if(e.preventHeadRequest)await r(e,e.options);else{const s=(await t("HEAD",e,Ce(e))).headers.get("Content-Length");s?e.size=a(s):await r(e,e.options)}}async function Me(e,{options:t,url:s},a){const n=await fetch(s,r.assign({},t,{method:e,headers:a}));if(400>n.status)return n;throw 416==n.status?new p(pe):new p(ue+(n.statusText||n.status))}function Le(e,{url:t},s){return new y((a,n)=>{const i=new XMLHttpRequest;if(i.addEventListener("load",()=>{if(400>i.status){const e=[];i.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(t=>{const r=t.trim().split(/\s*:\s*/);r[0]=r[0].trim().replace(/^[a-z]|-[a-z]/g,e=>e.toUpperCase()),e.push(r)}),a({status:i.status,arrayBuffer:()=>i.response,headers:new c(e)})}else n(416==i.status?new p(pe):new p(ue+(i.statusText||i.status)))},!1),i.addEventListener("error",e=>n(e.detail?e.detail.error:new p("Network error")),!1),i.open(e,t),s)for(const e of r.entries(s))i.setRequestHeader(e[0],e[1]);i.responseType="arraybuffer",i.send()})}class Be extends be{constructor(e,t={}){super(),r.assign(this,{url:e,reader:t.useXHR?new ke(e,t):new _e(e,t)})}set size(e){}get size(){return this.reader.size}async init(){await this.reader.init(),super.init()}readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}class He extends be{constructor(e){super(),e=new f(e.buffer,e.byteOffset,e.byteLength),r.assign(this,{array:e,size:e.length})}readUint8Array(e,t){return this.array.slice(e,e+t)}}class Pe extends ze{init(e=0){r.assign(this,{offset:0,array:new f(e)}),super.init()}writeUint8Array(e){const t=this;if(t.offset+e.length>t.array.length){const r=t.array;t.array=new f(r.length+e.length),t.array.set(r)}t.array.set(e,t.offset),t.offset+=e.length}getData(){return this.array}}class Ze extends be{constructor(e){super(),this.readers=e}async init(){const e=this,{readers:t}=e;e.lastDiskNumber=0,e.lastDiskOffset=0,await y.all(t.map(async(r,s)=>{await r.init(),s!=t.length-1&&(e.lastDiskOffset+=r.size),e.size+=r.size})),super.init()}async readUint8Array(e,t,r=0){const s=this,{readers:a}=this;let n,o=r;-1==o&&(o=a.length-1);let c=e;for(;a[o]&&c>=a[o].size;)c-=a[o].size,o++;const l=a[o];if(l){const a=l.size;if(c+t>a){const i=a-c;n=new f(t);const o=await Ge(l,c,i);n.set(o,0);const d=await s.readUint8Array(e+i,t-i,r);n.set(d,i),o.length+d.length<t&&(n=n.subarray(0,o.length+d.length))}else n=await Ge(l,c,t)}else n=new f;return s.lastDiskNumber=i.max(o,s.lastDiskNumber),n}}class Ve extends ye{constructor(e,t=4294967295){super();const s=this;let a,n,i;r.assign(s,{diskNumber:0,diskOffset:0,size:0,maxSize:t,availableSize:t});const o=new F({async write(t){const{availableSize:r}=s;if(i)t.length<r?await c(t):(await c(t.subarray(0,r)),await l(),s.diskOffset+=a.size,s.diskNumber++,i=null,await this.write(t.subarray(r)));else{const{value:r,done:o}=await e.next();if(o&&!r)throw new p("Writer iterator completed too soon");a=r,a.size=0,a.maxSize&&(s.maxSize=a.maxSize),s.availableSize=s.maxSize,await Ye(a),n=r.writable,i=n.getWriter(),await this.write(t)}},async close(){await i.ready,await l()}});async function c(e){const t=e.length;t&&(await i.ready,await i.write(e),a.size+=t,s.size+=t,s.availableSize-=t)}async function l(){await i.close()}r.defineProperty(s,ge,{get:()=>o})}}class qe{constructor(e){return t.isArray(e)&&(e=new Ze(e)),e instanceof E&&(e={readable:e}),e}}class Ke{constructor(e){return e.writable===G&&typeof e.next==X&&(e=new Ve(e)),e instanceof F&&(e={writable:e}),e.size===G&&(e.size=0),e instanceof Ve||r.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}}async function Ye(e,t){if(!e.init||e.initialized)return y.resolve();await e.init(t)}function Ge(e,t,r,s){return e.readUint8Array(t,r,s)}const je=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;je[e]=t}class Xe{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let r=0,s=0|e.length;s>r;r++)t=t>>>8^je[255&(t^e[r])];this.crc=t}get(){return~this.crc}}class Je extends D{constructor(){let e;const t=new Xe;super({transform(e,r){t.append(e),r.enqueue(e)},flush(){const r=new f(4);new m(r.buffer).setUint32(0,t.get()),e.value=r}}),e=this}}function Qe(e){if(typeof b==j){const t=new f((e=unescape(encodeURIComponent(e))).length);for(let r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t}return(new b).encode(e)}const $e={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const r=e[e.length-1],s=$e.getPartial(r);return 32===s?e.concat(t):$e._shiftRight(t,s,0|r,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const r=e[t-1];return 32*(t-1)+$e.getPartial(r)},clamp(e,t){if(32*e.length<t)return e;const r=(e=e.slice(0,i.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=$e.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:(e,t,r)=>32===e?t:(r?0|t:t<<32-e)+1099511627776*e,getPartial:e=>i.round(e/1099511627776)||32,_shiftRight(e,t,r,s){for(void 0===s&&(s=[]);t>=32;t-=32)s.push(r),r=0;if(0===t)return s.concat(e);for(let a=0;a<e.length;a++)s.push(r|e[a]>>>t),r=e[a]<<32-t;const a=e.length?e[e.length-1]:0,n=$e.getPartial(a);return s.push($e.partial(t+n&31,t+n>32?r:s.pop(),1)),s}},et={bytes:{fromBits(e){const t=$e.bitLength(e)/8,r=new f(t);let s;for(let a=0;t>a;a++)3&a||(s=e[a/4]),r[a]=s>>>24,s<<=8;return r},toBits(e){const t=[];let r,s=0;for(r=0;r<e.length;r++)s=s<<8|e[r],3&~r||(t.push(s),s=0);return 3&r&&t.push($e.partial(8*(3&r),s)),t}}},tt=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;"string"==typeof e&&(e=et.utf8String.toBits(e));const r=t._buffer=$e.concat(t._buffer,e),s=t._length,a=t._length=s+$e.bitLength(e);if(a>9007199254740991)throw new p("Cannot hash more than 2^53 - 1 bits");const n=new w(r);let i=0;for(let e=t.blockSize+s-(t.blockSize+s&t.blockSize-1);a>=e;e+=t.blockSize)t._block(n.subarray(16*i,16*(i+1))),i+=1;return r.splice(0,16*i),t}finalize(){const e=this;let t=e._buffer;const r=e._h;t=$e.concat(t,[$e.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(i.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),r}_f(e,t,r,s){return e>19?e>39?e>59?e>79?void 0:t^r^s:t&r|t&s|r&s:t^r^s:t&r|~t&s}_S(e,t){return t<<e|t>>>32-e}_block(e){const r=this,s=r._h,a=t(80);for(let t=0;16>t;t++)a[t]=e[t];let n=s[0],o=s[1],c=s[2],l=s[3],d=s[4];for(let e=0;79>=e;e++){16>e||(a[e]=r._S(1,a[e-3]^a[e-8]^a[e-14]^a[e-16]));const t=r._S(5,n)+r._f(e,o,c,l)+d+a[e]+r._key[i.floor(e/20)]|0;d=l,l=c,c=r._S(30,o),o=n,n=t}s[0]=s[0]+n|0,s[1]=s[1]+o|0,s[2]=s[2]+c|0,s[3]=s[3]+l|0,s[4]=s[4]+d|0}},rt={getRandomValues(e){const t=new w(e.buffer),r=e=>{let t=987654321;const r=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&r,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r)/4294967296+.5)*(i.random()>.5?1:-1))};for(let s,a=0;a<e.length;a+=4){const e=r(4294967296*(s||i.random()));s=987654071*e(),t[a/4]=4294967296*e()|0}return e}},st={importKey:e=>new st.hmacSha1(et.bytes.toBits(e)),pbkdf2(e,t,r,s){if(r=r||1e4,0>s||0>r)throw new p("invalid params to pbkdf2");const a=1+(s>>5)<<2;let n,i,o,c,l;const d=new ArrayBuffer(a),u=new m(d);let f=0;const h=$e;for(t=et.bytes.toBits(t),l=1;(a||1)>f;l++){for(n=i=e.encrypt(h.concat(t,[l])),o=1;r>o;o++)for(i=e.encrypt(i),c=0;c<i.length;c++)n[c]^=i[c];for(o=0;(a||1)>f&&o<n.length;o++)u.setInt32(f,n[o]),f+=4}return d.slice(0,s/8)},hmacSha1:class{constructor(e){const t=this,r=t._hash=tt,s=[[],[]];t._baseHash=[new r,new r];const a=t._baseHash[0].blockSize/32;e.length>a&&(e=(new r).update(e).finalize());for(let t=0;a>t;t++)s[0][t]=909522486^e[t],s[1][t]=1549556828^e[t];t._baseHash[0].update(s[0]),t._baseHash[1].update(s[1]),t._resultHash=new r(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),r=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),r}encrypt(e){if(this._updated)throw new p("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},at=typeof x!=j&&typeof x.getRandomValues==X,nt="Invalid password",it="Invalid signature",ot="zipjs-abort-check-password";function ct(e){return at?x.getRandomValues(e):rt.getRandomValues(e)}const lt=16,dt={name:"PBKDF2"},ut=r.assign({hash:{name:"HMAC"}},dt),pt=r.assign({iterations:1e3,hash:{name:"SHA-1"}},dt),ft=["deriveBits"],ht=[8,12,16],wt=[16,24,32],mt=10,gt=[0,0,0,0],yt=typeof x!=j,bt=yt&&x.subtle,zt=yt&&typeof bt!=j,St=et.bytes,xt=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const r=t._tables[0][4],s=t._tables[1],a=e.length;let n,i,o,c=1;if(4!==a&&6!==a&&8!==a)throw new p("invalid aes key size");for(t._key=[i=e.slice(0),o=[]],n=a;4*a+28>n;n++){let e=i[n-1];(n%a===0||8===a&&n%a===4)&&(e=r[e>>>24]<<24^r[e>>16&255]<<16^r[e>>8&255]<<8^r[255&e],n%a===0&&(e=e<<8^e>>>24^c<<24,c=c<<1^283*(c>>7))),i[n]=i[n-a]^e}for(let e=0;n;e++,n--){const t=i[3&e?n:n-4];o[e]=4>=n||4>e?t:s[0][r[t>>>24]]^s[1][r[t>>16&255]]^s[2][r[t>>8&255]]^s[3][r[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],r=e[4],s=t[4],a=[],n=[];let i,o,c,l;for(let e=0;256>e;e++)n[(a[e]=e<<1^283*(e>>7))^e]=e;for(let d=i=0;!r[d];d^=o||1,i=n[i]||1){let n=i^i<<1^i<<2^i<<3^i<<4;n=n>>8^255&n^99,r[d]=n,s[n]=d,l=a[c=a[o=a[d]]];let u=16843009*l^65537*c^257*o^16843008*d,p=257*a[n]^16843008*n;for(let r=0;4>r;r++)e[r][d]=p=p<<24^p>>>8,t[r][n]=u=u<<24^u>>>8}for(let r=0;5>r;r++)e[r]=e[r].slice(0),t[r]=t[r].slice(0)}_crypt(e,t){if(4!==e.length)throw new p("invalid aes block size");const r=this._key[t],s=r.length/4-2,a=[0,0,0,0],n=this._tables[t],i=n[0],o=n[1],c=n[2],l=n[3],d=n[4];let u,f,h,w=e[0]^r[0],m=e[t?3:1]^r[1],g=e[2]^r[2],y=e[t?1:3]^r[3],b=4;for(let e=0;s>e;e++)u=i[w>>>24]^o[m>>16&255]^c[g>>8&255]^l[255&y]^r[b],f=i[m>>>24]^o[g>>16&255]^c[y>>8&255]^l[255&w]^r[b+1],h=i[g>>>24]^o[y>>16&255]^c[w>>8&255]^l[255&m]^r[b+2],y=i[y>>>24]^o[w>>16&255]^c[m>>8&255]^l[255&g]^r[b+3],b+=4,w=u,m=f,g=h;for(let e=0;4>e;e++)a[t?3&-e:e]=d[w>>>24]<<24^d[m>>16&255]<<16^d[g>>8&255]<<8^d[255&y]^r[b++],u=w,w=m,m=g,g=y,y=u;return a}},Rt=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,r=e>>8&255,s=255&e;255===t?(t=0,255===r?(r=0,255===s?s=0:++s):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=s}return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,r){let s;if(!(s=t.length))return[];const a=$e.bitLength(t);for(let a=0;s>a;a+=4){this.incCounter(r);const s=e.encrypt(r);t[a]^=s[0],t[a+1]^=s[1],t[a+2]^=s[2],t[a+3]^=s[3]}return $e.clamp(t,a)}},Dt=st.hmacSha1;let Et=yt&&zt&&typeof bt.importKey==X,Ft=yt&&zt&&typeof bt.deriveBits==X;class _t extends D{constructor({password:e,rawPassword:t,signed:s,encryptionStrength:a,checkPasswordOnly:n}){super({start(){r.assign(this,{ready:new y(e=>this.resolveReady=e),password:vt(e,t),signed:s,strength:a-1,pending:new f})},async transform(e,t){const r=this,{password:s,strength:a,resolveReady:i,ready:o}=r;s?(await(async(e,t,r,s)=>{const a=await At(e,t,r,Ct(s,0,ht[t])),n=Ct(s,ht[t]);if(a[0]!=n[0]||a[1]!=n[1])throw new p(nt)})(r,a,s,Ct(e,0,ht[a]+2)),e=Ct(e,ht[a]+2),n?t.error(new p(ot)):i()):await o;const c=new f(e.length-mt-(e.length-mt)%lt);t.enqueue(Tt(r,e,c,0,mt,!0))},async flush(e){const{signed:t,ctr:r,hmac:s,pending:a,ready:n}=this;if(s&&r){await n;const i=Ct(a,0,a.length-mt),o=Ct(a,a.length-mt);let c=new f;if(i.length){const e=Wt(St,i);s.update(e);const t=r.update(e);c=Nt(St,t)}if(t){const e=Ct(Nt(St,s.digest()),0,mt);for(let t=0;mt>t;t++)if(e[t]!=o[t])throw new p(it)}e.enqueue(c)}}})}}class kt extends D{constructor({password:e,rawPassword:t,encryptionStrength:s}){let a;super({start(){r.assign(this,{ready:new y(e=>this.resolveReady=e),password:vt(e,t),strength:s-1,pending:new f})},async transform(e,t){const r=this,{password:s,strength:a,resolveReady:n,ready:i}=r;let o=new f;s?(o=await(async(e,t,r)=>{const s=ct(new f(ht[t]));return Ut(s,await At(e,t,r,s))})(r,a,s),n()):await i;const c=new f(o.length+e.length-e.length%lt);c.set(o,0),t.enqueue(Tt(r,e,c,o.length,0))},async flush(e){const{ctr:t,hmac:r,pending:s,ready:n}=this;if(r&&t){await n;let i=new f;if(s.length){const e=t.update(Wt(St,s));r.update(e),i=Nt(St,e)}a.signature=Nt(St,r.digest()).slice(0,mt),e.enqueue(Ut(i,a.signature))}}}),a=this}}function Tt(e,t,r,s,a,n){const{ctr:i,hmac:o,pending:c}=e,l=t.length-a;let d;for(c.length&&(t=Ut(c,t),r=((e,t)=>{if(t&&t>e.length){const r=e;(e=new f(t)).set(r,0)}return e})(r,l-l%lt)),d=0;l-lt>=d;d+=lt){const e=Wt(St,Ct(t,d,d+lt));n&&o.update(e);const a=i.update(e);n||o.update(a),r.set(Nt(St,a),d+s)}return e.pending=Ct(t,d),r}async function At(e,s,a,n){e.password=null;const i=await(async(e,t,r,s,a)=>{if(!Et)return st.importKey(t);try{return await bt.importKey("raw",t,r,!1,a)}catch(e){return Et=!1,st.importKey(t)}})(0,a,ut,0,ft),o=await(async(e,t,r)=>{if(!Ft)return st.pbkdf2(t,e.salt,pt.iterations,r);try{return await bt.deriveBits(e,t,r)}catch(s){return Ft=!1,st.pbkdf2(t,e.salt,pt.iterations,r)}})(r.assign({salt:n},pt),i,8*(2*wt[s]+2)),c=new f(o),l=Wt(St,Ct(c,0,wt[s])),d=Wt(St,Ct(c,wt[s],2*wt[s])),u=Ct(c,2*wt[s]);return r.assign(e,{keys:{key:l,authentication:d,passwordVerification:u},ctr:new Rt(new xt(l),t.from(gt)),hmac:new Dt(d)}),u}function vt(e,t){return t===G?Qe(e):t}function Ut(e,t){let r=e;return e.length+t.length&&(r=new f(e.length+t.length),r.set(e,0),r.set(t,e.length)),r}function Ct(e,t,r){return e.subarray(t,r)}function Nt(e,t){return e.fromBits(t)}function Wt(e,t){return e.toBits(t)}class It extends D{constructor({password:e,passwordVerification:t,checkPasswordOnly:s}){super({start(){r.assign(this,{password:e,passwordVerification:t}),Bt(this,e)},transform(e,t){const r=this;if(r.password){const t=Mt(r,e.subarray(0,12));if(r.password=null,t.at(-1)!=r.passwordVerification)throw new p(nt);e=e.subarray(12)}s?t.error(new p(ot)):t.enqueue(Mt(r,e))}})}}class Ot extends D{constructor({password:e,passwordVerification:t}){super({start(){r.assign(this,{password:e,passwordVerification:t}),Bt(this,e)},transform(e,t){const r=this;let s,a;if(r.password){r.password=null;const t=ct(new f(12));t[11]=r.passwordVerification,s=new f(e.length+t.length),s.set(Lt(r,t),0),a=12}else s=new f(e.length),a=0;s.set(Lt(r,e),a),t.enqueue(s)}})}}function Mt(e,t){const r=new f(t.length);for(let s=0;s<t.length;s++)r[s]=Pt(e)^t[s],Ht(e,r[s]);return r}function Lt(e,t){const r=new f(t.length);for(let s=0;s<t.length;s++)r[s]=Pt(e)^t[s],Ht(e,t[s]);return r}function Bt(e,t){const s=[305419896,591751049,878082192];r.assign(e,{keys:s,crcKey0:new Xe(s[0]),crcKey2:new Xe(s[2])});for(let r=0;r<t.length;r++)Ht(e,t.charCodeAt(r))}function Ht(e,t){let[r,s,a]=e.keys;e.crcKey0.append([t]),r=~e.crcKey0.get(),s=Vt(i.imul(Vt(s+Zt(r)),134775813)+1),e.crcKey2.append([s>>>24]),a=~e.crcKey2.get(),e.keys=[r,s,a]}function Pt(e){const t=2|e.keys[2];return Zt(i.imul(t,1^t)>>>8)}function Zt(e){return 255&e}function Vt(e){return 4294967295&e}const qt="Invalid uncompressed size";class Kt extends D{constructor(e,{chunkSize:t,CompressionStreamZlib:r,CompressionStream:s}){super({});const{compressed:a,encrypted:n,useCompressionStream:i,zipCrypto:o,signed:c,level:l}=e,d=this;let u,p,f=super.readable;n&&!o||!c||(u=new Je,f=Xt(f,u)),a&&(f=jt(f,i,{level:l,chunkSize:t},s,r,s)),n&&(o?f=Xt(f,new Ot(e)):(p=new kt(e),f=Xt(f,p))),Gt(d,f,()=>{let e;n&&!o&&(e=p.signature),n&&!o||!c||(e=new m(u.value.buffer).getUint32(0)),d.signature=e})}}class Yt extends D{constructor(e,{chunkSize:t,DecompressionStreamZlib:r,DecompressionStream:s}){super({});const{zipCrypto:a,encrypted:n,signed:i,signature:o,compressed:c,useCompressionStream:l,deflate64:d}=e;let u,f,h=super.readable;n&&(a?h=Xt(h,new It(e)):(f=new _t(e),h=Xt(h,f))),c&&(h=jt(h,l,{chunkSize:t,deflate64:d},s,r,s)),n&&!a||!i||(u=new Je,h=Xt(h,u)),Gt(this,h,()=>{if((!n||a)&&i){const e=new m(u.value.buffer);if(o!=e.getUint32(0,!1))throw new p(it)}})}}function Gt(e,t,s){t=Xt(t,new D({flush:s})),r.defineProperty(e,"readable",{get:()=>t})}function jt(e,t,r,s,a,n){const i=t&&s?s:a||n,o=r.deflate64?"deflate64-raw":"deflate-raw";try{e=Xt(e,new i(o,r))}catch(s){if(!t)throw s;if(a)e=Xt(e,new a(o,r));else{if(!n)throw s;e=Xt(e,new n(o,r))}}return e}function Xt(e,t){return e.pipeThrough(t)}const Jt="data",Qt="close",$t="deflate",er="inflate";class tr extends D{constructor(e,t){super({});const s=this,{codecType:a}=e;let n;a.startsWith($t)?n=Kt:a.startsWith(er)&&(n=Yt),s.outputSize=0;let i=0;const o=new n(e,t),c=super.readable,l=new D({transform(e,t){e&&e.length&&(i+=e.length,t.enqueue(e))},flush(){r.assign(s,{inputSize:i})}}),d=new D({transform(t,r){if(t&&t.length&&(r.enqueue(t),s.outputSize+=t.length,e.outputSize!==G&&s.outputSize>e.outputSize))throw new p(qt)},flush(){const{signature:e}=o;r.assign(s,{signature:e,inputSize:i})}});r.defineProperty(s,"readable",{get:()=>c.pipeThrough(l).pipeThrough(o).pipeThrough(d)})}}class rr extends D{constructor(e){let t;super({transform:function r(s,a){if(t){const e=new f(t.length+s.length);e.set(t),e.set(s,t.length),s=e,t=null}s.length>e?(a.enqueue(s.slice(0,e)),r(s.slice(e),a)):t=s},flush(e){t&&t.length&&e.enqueue(t)}})}}let sr=typeof A!=j;class ar{constructor(e,{readable:t,writable:s},{options:a,config:n,streamOptions:i,useWebWorkers:o,transferStreams:c,workerURI:l},d){const{signal:u}=i;return r.assign(e,{busy:!0,readable:t.pipeThrough(new rr(n.chunkSize)).pipeThrough(new nr(i),{signal:u}),writable:s,options:r.assign({},a),workerURI:l,transferStreams:c,terminate:()=>new y(t=>{const{worker:r,busy:s}=e;r?(s?e.resolveTerminated=t:(r.terminate(),t()),e.interface=null):t()}),onTaskFinished(){const{resolveTerminated:t}=e;t&&(e.resolveTerminated=null,e.terminated=!0,e.worker.terminate(),t()),e.busy=!1,d(e)}}),(o&&sr?cr:or)(e,n)}}class nr extends D{constructor({onstart:e,onprogress:t,size:r,onend:s}){let a=0;super({async start(){e&&await ir(e,r)},async transform(e,s){a+=e.length,t&&await ir(t,a,r),s.enqueue(e)},async flush(){s&&await ir(s,a)}})}}async function ir(e,...t){try{await e(...t)}catch(e){}}function or(e,t){return{run:()=>(async({options:e,readable:t,writable:r,onTaskFinished:s},a)=>{let n;try{if(!e.useCompressionStream&&!le){let{wasmURI:e}=a;typeof e==X&&(e=e()),await(async(e,{baseURI:t})=>{if(!le){let s,a;try{try{a=new u(e,t)}catch(e){}const r=await fetch(a);s=await r.arrayBuffer()}catch(t){if(!e.startsWith("data:application/wasm;base64,"))throw t;s=(e=>{const t=e.split(",")[1],r=atob(t),s=r.length,a=new f(s);for(let e=0;s>e;++e)a[e]=r.charCodeAt(e);return a.buffer})(e)}r=(await WebAssembly.instantiate(s)).instance.exports,ae=r,({malloc:ne,free:ie,memory:oe}=ae),le=!0}var r})(e,a)}n=new tr(e,a),await t.pipeThrough(n).pipeTo(r,{preventClose:!0,preventAbort:!0});const{signature:s,inputSize:i,outputSize:o}=n;return{signature:s,inputSize:i,outputSize:o}}catch(e){throw n&&(e.outputSize=n.outputSize),e}finally{s()}})(e,t)}}function cr(e,t){const{baseURI:s,chunkSize:a}=t;let{wasmURI:n}=t;if(!e.interface){let i;typeof n==X&&(n=n());try{i=((e,t,s)=>{const a={type:"module"};let n,i;if(typeof e==X&&(e=e()),e.startsWith("data:")||e.startsWith("blob:"))try{i=new A(e)}catch(t){i=new A(e,a)}else{try{n=new u(e,t)}catch(t){n=e}i=new A(n,a)}return i.addEventListener("message",e=>(async({data:e},t)=>{const{type:s,value:a,messageId:n,result:i,error:o}=e,{reader:c,writer:l,resolveResult:d,rejectResult:u,onTaskFinished:h}=t;try{if(o){const{message:e,stack:t,code:s,name:a,outputSize:n}=o,i=new p(e);r.assign(i,{stack:t,code:s,name:a,outputSize:n}),w(i)}else{if("pull"==s){const{value:e,done:r}=await c.read();dr({type:Jt,value:e,done:r,messageId:n},t)}s==Jt&&(await l.ready,await l.write(new f(a)),dr({type:"ack",messageId:n},t)),s==Qt&&w(null,i)}}catch(o){dr({type:Qt,messageId:n},t),w(o)}function w(e,t){e?u(e):d(t),l&&l.releaseLock(),h()}})(e,s)),i})(e.workerURI,s,e)}catch(r){return sr=!1,or(e,t)}r.assign(e,{worker:i,interface:{run:()=>(async(e,t)=>{let s,a;const n=new y((e,t)=>{s=e,a=t});r.assign(e,{reader:null,writer:null,resolveResult:s,rejectResult:a,result:n});const{readable:i,options:o}=e,{writable:c,closed:l}=(e=>{let t;const r=new y(e=>t=e);return{writable:new F({async write(t){const r=e.getWriter();await r.ready,await r.write(t),r.releaseLock()},close(){t()},abort:t=>e.getWriter().abort(t)}),closed:r}})(e.writable),d=dr({type:"start",options:o,config:t,readable:i,writable:c},e);d||r.assign(e,{reader:i.getReader(),writer:c.getWriter()});const u=await n;return d||await c.getWriter().close(),await l,u})(e,{chunkSize:a,wasmURI:n,baseURI:s})}})}return e.interface}let lr=!0;function dr(e,{worker:t,writer:r,onTaskFinished:s,transferStreams:a}){try{const{value:r,readable:s,writable:n}=e,i=[];if(r&&(r.byteLength<r.buffer.byteLength?e.value=r.buffer.slice(0,r.byteLength):e.value=r.buffer,i.push(e.value)),a&&lr?(s&&i.push(s),n&&i.push(n)):e.readable=e.writable=null,i.length)try{return t.postMessage(e,i),!0}catch(r){lr=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(e){throw r&&r.releaseLock(),s(),e}}let ur=[];const pr=[];let fr=0;async function hr(e,t){const{options:r,config:s}=t,{transferStreams:n,useWebWorkers:i,useCompressionStream:o,compressed:c,signed:l,encrypted:d}=r,{workerURI:u,maxWorkers:p}=s;t.transferStreams=n||n===G;const f=!(c||l||d||t.transferStreams);return t.useWebWorkers=!f&&(i||i===G&&s.useWebWorkers),t.workerURI=t.useWebWorkers&&u?u:G,r.useCompressionStream=o||o===G&&s.useCompressionStream,(await(async()=>{const r=ur.find(e=>!e.busy);if(r)return wr(r),new ar(r,e,t,h);if(ur.length<p){const r={indexWorker:fr};return fr++,ur.push(r),new ar(r,e,t,h)}return new y(r=>pr.push({resolve:r,stream:e,workerOptions:t}))})()).run();function h(e){if(pr.length){const[{resolve:t,stream:r,workerOptions:s}]=pr.splice(0,1);t(new ar(e,r,s,h))}else e.worker?(wr(e),((e,t)=>{const{config:r}=t,{terminateWorkerTimeout:s}=r;a.isFinite(s)&&s>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{ur=ur.filter(t=>t!=e);try{await e.terminate()}catch(e){}},s))})(e,t)):ur=ur.filter(t=>t!=e)}}function wr(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}const mr="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split("");function gr(e,t){return t&&"cp437"==t.trim().toLowerCase()?(e=>{{let t="";for(let r=0;r<e.length;r++)t+=mr[e[r]];return t}})(e):new z(t).decode(e)}const yr="filename",br="rawFilename",zr="comment",Sr="rawComment",xr="uncompressedSize",Rr="compressedSize",Dr="offset",Er="diskNumberStart",Fr="lastModDate",_r="rawLastModDate",kr="lastAccessDate",Tr="creationDate",Ar="internalFileAttributes",vr="externalFileAttributes",Ur="msDosCompatible",Cr="zip64",Nr="encrypted",Wr="version",Ir="versionMadeBy",Or="zipCrypto",Mr="directory",Lr="executable",Br="compressionMethod",Hr="signature",Pr="extraField",Zr=[yr,br,Rr,xr,Fr,_r,zr,Sr,kr,Tr,Dr,Er,Er,Ar,vr,Ur,Cr,Nr,Wr,Ir,Or,Mr,Lr,Br,Hr,Pr,"bitFlag","filenameUTF8","commentUTF8","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Vr{constructor(e){Zr.forEach(t=>this[t]=e[t])}}const qr="password",Kr="rawPassword",Yr="passThrough",Gr="signal",jr="useWebWorkers",Xr="useCompressionStream",Jr="preventClose",Qr="supportZip64SplitFile",$r="offset",es="usdz",ts="File format is not recognized",rs="End of central directory not found",ss="End of Zip64 central directory locator not found",as="Central directory header not found",ns="Local file header not found",is="Zip64 extra field not found",os="File contains encrypted entry",cs="Encryption method not supported",ls="Compression method not supported",ds="Split zip file",us="Overlapping entry found",ps="utf-8",fs="cp437",hs=[[xr,U],[Rr,U],[Dr,U],[Er,C]],ws={[C]:{getValue:Fs,bytes:4},[U]:{getValue:_s,bytes:8}};class ms{constructor(e,t={}){r.assign(this,{reader:new qe(e),options:t,config:ee(),readRanges:[]})}async*getEntriesGenerator(e={}){const t=this;let{reader:s}=t;const{config:a}=t;if(await Ye(s),s.size!==G&&s.readUint8Array||(s=new Re(await new d(s.readable).blob()),await Ye(s)),s.size<H)throw new p(ts);s.chunkSize=te(a);const n=await(async(e,t,r)=>{const s=new f(4);var a;return a=t,ks(s).setUint32(0,a,!0),await n(22)||await n(i.min(1048582,r));async function n(t){const a=r-t,n=await Ge(e,a,t);for(let e=n.length-22;e>=0;e--)if(n[e]==s[0]&&n[e+1]==s[1]&&n[e+2]==s[2]&&n[e+3]==s[3])return{offset:a+e,buffer:n.slice(e,e+22).buffer}}})(s,M,s.size);if(!n)throw Fs(ks(await Ge(s,0,4)))==W?new p(ds):new p(rs);const o=ks(n);let c=Fs(o,12),l=Fs(o,16);const u=n.offset,h=Es(o,20),w=u+H+h;let m=Es(o,4);const g=s.lastDiskNumber||0;let b=Es(o,6),z=Es(o,8),S=0,x=0;if(l==U||c==U||z==C||b==C){const e=ks(await Ge(s,n.offset-20,20));if(Fs(e,0)==B){l=_s(e,8);let t=await Ge(s,l,56,-1),r=ks(t);const a=n.offset-20-56;if(Fs(r,0)!=L&&l!=a){const e=l;l=a,l>e&&(S=l-e),t=await Ge(s,l,56,-1),r=ks(t)}if(Fs(r,0)!=L)throw new p(ss);m==C&&(m=Fs(r,16)),b==C&&(b=Fs(r,20)),z==C&&(z=_s(r,32)),c==U&&(c=_s(r,40)),l-=c}}if(l<s.size||(S=s.size-l-c-H,l=s.size-c-H),g!=m)throw new p(ds);if(0>l)throw new p(ts);let R=0,E=await Ge(s,l,c,b),F=ks(E);if(c){const e=n.offset-c;if(Fs(F,R)!=O&&l!=e){const t=l;l=e,l>t&&(S+=l-t),E=await Ge(s,l,c,b),F=ks(E)}}const _=n.offset-l-(s.lastDiskOffset||0);if(c==_||0>_||(c=_,E=await Ge(s,l,c,b),F=ks(E)),0>l||l>=s.size)throw new p(ts);const k=Ss(t,e,"filenameEncoding"),T=Ss(t,e,"commentEncoding");for(let n=0;z>n;n++){const o=new gs(s,a,t.options);if(Fs(F,R)!=O)throw new p(as);ys(o,F,R+6);const c=!!o.bitFlag.languageEncodingFlag,l=R+46,u=l+o.filenameLength,f=u+o.extraFieldLength,h=Es(F,R+4),w=!(h>>8),m=h>>8==3,g=E.subarray(l,u),b=Es(F,R+32),_=f+b,A=E.subarray(f,_),v=c,U=c,C=Fs(F,R+38),N=w&&!(16&~Ds(F,R+38))||m&&16384==(C>>16&61440)||g.length&&47==g.at(-1),W=m&&!!(C>>16&73),I=Fs(F,R+42)+S;r.assign(o,{versionMadeBy:h,msDosCompatible:w,compressedSize:0,uncompressedSize:0,commentLength:b,directory:N,offset:I,diskNumberStart:Es(F,R+34),internalFileAttributes:Es(F,R+36),externalFileAttributes:C,rawFilename:g,filenameUTF8:v,commentUTF8:U,rawExtraField:E.subarray(u,f),executable:W}),o.internalFileAttribute=o.internalFileAttributes,o.externalFileAttribute=o.externalFileAttributes;const M=Ss(t,e,"decodeText")||gr,L=v?ps:k||fs,B=U?ps:T||fs;let H=M(g,L);H===G&&(H=gr(g,L));let P=M(A,B);P===G&&(P=gr(A,B)),r.assign(o,{rawComment:A,filename:H,comment:P,directory:N||H.endsWith(V)}),x=i.max(I,x),bs(o,o,F,R+6),o.zipCrypto=o.encrypted&&!o.extraFieldAES;const Z=new Vr(o);Z.getData=(e,r)=>o.getData(e,Z,t.readRanges,r),Z.arrayBuffer=async e=>{const r=new D,[s]=await y.all([new d(r.readable).arrayBuffer(),o.getData(r,Z,t.readRanges,e)]);return s},R=_;const{onprogress:q}=e;if(q)try{await q(n+1,z,new Vr(o))}catch(e){}yield Z}const A=Ss(t,e,"extractPrependedData"),v=Ss(t,e,"extractAppendedData");return A&&(t.prependedData=x>0?await Ge(s,0,x):new f),t.comment=h?await Ge(s,u+H,h):new f,v&&(t.appendedData=w<s.size?await Ge(s,w,s.size-w):new f),!0}async getEntries(e={}){const t=[];for await(const r of this.getEntriesGenerator(e))t.push(r);return t}async close(){}}let gs=class{constructor(e,t,s){r.assign(this,{reader:e,config:t,options:s})}async getData(e,t,s,a={}){const n=this,{reader:i,offset:o,diskNumberStart:c,extraFieldAES:l,extraFieldZip64:d,compressionMethod:u,config:h,bitFlag:w,signature:m,rawLastModDate:g,uncompressedSize:y,compressedSize:b}=n,{dataDescriptor:z}=w,S=t.localDirectory={},x=ks(await Ge(i,o,q,c));let R=Ss(n,a,qr),D=Ss(n,a,Kr);const E=Ss(n,a,Yr);if(R=R&&R.length&&R,D=D&&D.length&&D,l&&99!=l.originalCompressionMethod)throw new p(ls);if(0!=u&&8!=u&&9!=u&&!E)throw new p(ls);if(Fs(x,0)!=N)throw new p(ns);ys(S,x,4);const{extraFieldLength:_,filenameLength:k,lastAccessDate:T,creationDate:A}=S;S.rawExtraField=_?await Ge(i,o+q+k,_,c):new f,bs(n,S,x,4,!0),r.assign(t,{lastAccessDate:T,creationDate:A});const v=n.encrypted&&S.encrypted&&!E,U=v&&!l;if(E||(t.zipCrypto=U),v){if(!U&&l.strength===G)throw new p(cs);if(!R&&!D)throw new p(os)}const C=o+q+k+_,W=b,O=i.readable;r.assign(O,{diskNumberStart:c,offset:C,size:W});const M=Ss(n,a,Gr),L=Ss(n,a,"checkPasswordOnly");let B=Ss(n,a,"checkOverlappingEntry");const H=Ss(n,a,"checkOverlappingEntryOnly");H&&(B=!0);const{onstart:P,onprogress:Z,onend:V}=a,K=9==u;let Y=Ss(n,a,Xr);K&&(Y=!1);const j={options:{codecType:er,password:R,rawPassword:D,zipCrypto:U,encryptionStrength:l&&l.strength,signed:Ss(n,a,"checkSignature")&&!E,passwordVerification:U&&(z?g>>>8&255:m>>>24&255),outputSize:E?b:y,signature:m,compressed:0!=u&&!E,encrypted:n.encrypted&&!E,useWebWorkers:Ss(n,a,jr),useCompressionStream:Y,transferStreams:Ss(n,a,"transferStreams"),deflate64:K,checkPasswordOnly:L},config:h,streamOptions:{signal:M,size:W,onstart:P,onprogress:Z,onend:V}};let X;B&&await(async({reader:e,fileEntry:t,offset:r,diskNumberStart:s,signature:a,compressedSize:n,uncompressedSize:i,dataOffset:o,dataDescriptor:c,extraFieldZip64:l,readRanges:d})=>{let u=0;if(s)for(let t=0;s>t;t++)u+=e.readers[t].size;let f=0;if(c&&(f=l?20:12),f){const r=await Ge(e,o+n,f+4,s);if(Fs(ks(r),0)==I){const e=Fs(ks(r),4);let s,o;l?(s=_s(ks(r),8),o=_s(ks(r),16)):(s=Fs(ks(r),8),o=Fs(ks(r),12)),(t.encrypted&&!t.zipCrypto||e==a)&&s==n&&o==i&&(f+=4)}}const h={start:u+r,end:u+o+n+f,fileEntry:t};for(const e of d)if(e.fileEntry!=t&&h.start>=e.start&&h.start<e.end){const t=new p(us);throw t.overlappingEntry=e.fileEntry,t}d.push(h)})({reader:i,fileEntry:t,offset:o,diskNumberStart:c,signature:m,compressedSize:b,uncompressedSize:y,dataOffset:C,dataDescriptor:z||S.bitFlag.dataDescriptor,extraFieldZip64:d||S.extraFieldZip64,readRanges:s});try{if(!H){L&&(e=new F),e=new Ke(e),await Ye(e,E?b:y),({writable:X}=e);const{outputSize:t}=await hr({readable:O,writable:X},j);if(e.size+=t,t!=(E?b:y))throw new p(qt)}}catch(t){if(t.outputSize!==G&&(e.size+=t.outputSize),!L||t.message!=ot)throw t}finally{Ss(n,a,Jr)||!X||X.locked||await X.getWriter().close()}return L||H?G:e.getData?e.getData():X}};function ys(e,t,s){const a=e.rawBitFlag=Es(t,s+2),n=!(1&~a),i=Fs(t,s+6);r.assign(e,{encrypted:n,version:Es(t,s),bitFlag:{level:(6&a)>>1,dataDescriptor:!(8&~a),languageEncodingFlag:(a&Z)==Z},rawLastModDate:i,lastModDate:xs(i),filenameLength:Es(t,s+22),extraFieldLength:Es(t,s+24)})}function bs(e,t,s,a,n){const{rawExtraField:i}=t,l=t.extraField=new c,d=ks(new f(i));let u=0;try{for(;u<i.length;){const e=Es(d,u),t=Es(d,u+2);l.set(e,{type:e,data:i.slice(u+4,u+4+t)}),u+=4+t}}catch(e){}const h=Es(s,a+4);r.assign(t,{signature:Fs(s,a+10),compressedSize:Fs(s,a+14),uncompressedSize:Fs(s,a+18)});const w=l.get(1);w&&(((e,t)=>{t.zip64=!0;const r=ks(e.data),s=hs.filter(([e,r])=>t[e]==r);for(let a=0,n=0;a<s.length;a++){const[i,o]=s[a];if(t[i]==o){const s=ws[o];t[i]=e[i]=s.getValue(r,n),n+=s.bytes}else if(e[i])throw new p(is)}})(w,t),t.extraFieldZip64=w);const m=l.get(28789);m&&(zs(m,yr,br,t,e),t.extraFieldUnicodePath=m);const g=l.get(25461);g&&(zs(g,zr,Sr,t,e),t.extraFieldUnicodeComment=g);const y=l.get(39169);y?(((e,t,s)=>{const a=ks(e.data),n=Ds(a,4);r.assign(e,{vendorVersion:Ds(a,0),vendorId:Ds(a,2),strength:n,originalCompressionMethod:s,compressionMethod:Es(a,5)}),t.compressionMethod=e.compressionMethod})(y,t,h),t.extraFieldAES=y):t.compressionMethod=h;const b=l.get(10);b&&(((e,t)=>{const s=ks(e.data);let a,n=4;try{for(;n<e.data.length&&!a;){const t=Es(s,n),r=Es(s,n+2);1==t&&(a=e.data.slice(n+4,n+4+r)),n+=4+r}}catch(e){}try{if(a&&24==a.length){const s=ks(a),n=s.getBigUint64(0,!0),i=s.getBigUint64(8,!0),o=s.getBigUint64(16,!0);r.assign(e,{rawLastModDate:n,rawLastAccessDate:i,rawCreationDate:o});const c={lastModDate:Rs(n),lastAccessDate:Rs(i),creationDate:Rs(o)};r.assign(e,c),r.assign(t,c)}}catch(e){}})(b,t),t.extraFieldNTFS=b);const z=l.get(P);z&&(((e,t,r)=>{const s=ks(e.data),a=Ds(s,0),n=[],i=[];r?(1&~a||(n.push(Fr),i.push(_r)),2&~a||(n.push(kr),i.push("rawLastAccessDate")),4&~a||(n.push(Tr),i.push("rawCreationDate"))):5>e.data.length||(n.push(Fr),i.push(_r));let c=1;n.forEach((r,a)=>{if(e.data.length>=c+4){const n=Fs(s,c);t[r]=e[r]=new o(1e3*n);const l=i[a];e[l]=n}c+=4})})(z,t,n),t.extraFieldExtendedTimestamp=z);const S=l.get(6534);S&&(t.extraFieldUSDZ=S)}function zs(e,t,s,a,n){const i=ks(e.data),o=new Xe;o.append(n[s]);const c=ks(new f(4));c.setUint32(0,o.get(),!0);const l=Fs(i,1);r.assign(e,{version:Ds(i,0),[t]:gr(e.data.subarray(5)),valid:!n.bitFlag.languageEncodingFlag&&l==Fs(c,0)}),e.valid&&(a[t]=e[t],a[t+"UTF8"]=!0)}function Ss(e,t,r){return t[r]===G?e.options[r]:t[r]}function xs(e){const t=(4294901760&e)>>16,r=65535&e;try{return new o(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&r)>>11,(2016&r)>>5,2*(31&r),0)}catch(e){}}function Rs(e){return new o(a(e/n(1e4)-n(116444736e5)))}function Ds(e,t){return e.getUint8(t)}function Es(e,t){return e.getUint16(t,!0)}function Fs(e,t){return e.getUint32(t,!0)}function _s(e,t){return a(e.getBigUint64(t,!0))}function ks(e){return new m(e.buffer)}const Ts="File already exists",As="Zip file comment exceeds 64KB",vs="File entry comment exceeds 64KB",Us="File entry name exceeds 64KB",Cs="Version exceeds 65535",Ns="The strength must equal 1, 2, or 3",Ws="Extra field type exceeds 65535",Is="Extra field data exceeds 64KB",Os="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",Ms="Undefined uncompressed size",Ls="Zip file not empty",Bs=new f([7,0,2,0,65,69,3,0,0]);let Hs=0;const Ps=[];class Zs{constructor(e,t={}){const s=(e=new Ke(e)).availableSize!==G&&e.availableSize>0&&e.availableSize!==1/0&&e.maxSize!==G&&e.maxSize>0&&e.maxSize!==1/0;r.assign(this,{writer:e,addSplitZipSignature:s,options:t,config:ee(),files:new c,filenames:new l,offset:t[$r]===G?e.size||e.writable.size||0:t[$r],pendingEntriesSize:0,pendingAddFileCalls:new l,bufferedWrites:0})}async prependZip(e){if(this.filenames.size)throw new p(Ls);e=new qe(e);const t=new ms(e.readable),s=await t.getEntries();await t.close(),await e.readable.pipeTo(this.writer.writable,{preventClose:!0,preventAbort:!0}),this.writer.size=this.offset=e.size,this.filenames=new l(s.map(e=>e.filename)),this.files=new c(s.map(e=>{const{version:t,compressionMethod:s,lastModDate:a,lastAccessDate:n,creationDate:i,rawFilename:o,bitFlag:c,encrypted:l,uncompressedSize:d,compressedSize:u,diskOffset:p,diskNumber:h,zip64:w}=e;let{rawExtraFieldZip64:m,rawExtraFieldAES:g,rawExtraFieldExtendedTimestamp:y,rawExtraFieldNTFS:b,rawExtraField:z}=e;const{level:S,languageEncodingFlag:x,dataDescriptor:R}=c;m=m||new f,g=g||new f,y=y||new f,b=b||new f,z=z||new f;const D=ta(m,g,y,b,z),E=w&&d>U,F=w&&u>U,{headerArray:_,headerView:k}=ra({version:t,bitFlag:sa(S,x,R,l,s),compressionMethod:s,uncompressedSize:d,compressedSize:u,lastModDate:a,rawFilename:o,zip64CompressedSize:F,zip64UncompressedSize:E,extraFieldLength:D});return r.assign(e,{zip64UncompressedSize:E,zip64CompressedSize:F,zip64Offset:w&&this.offset-p>U,zip64DiskNumberStart:w&&h>C,rawExtraFieldZip64:m,rawExtraFieldAES:g,rawExtraFieldExtendedTimestamp:y,rawExtraFieldNTFS:b,rawExtraField:z,extendedTimestamp:y.length>0||b.length>0,extraFieldExtendedTimestampFlag:1+(n?2:0)+(i?4:0),headerArray:_,headerView:k}),[e.filename,e]}))}async add(e="",s,a={}){const c=this,{pendingAddFileCalls:l,config:u}=c;let w;Hs<u.maxWorkers?Hs++:await new y(e=>Ps.push(e));try{if(e=e.trim(),c.filenames.has(e))throw new p(Ts);return c.filenames.add(e),w=(async(e,s,a,c)=>{s=s.trim();const l=Ys(e,c,Ur),u=Ys(e,c,Ir,l?20:768),w=Ys(e,c,Lr);if(u>C)throw new p(Cs);let m=Ys(e,c,vr,0);!c[Mr]&&s.endsWith(V)&&(c[Mr]=!0),Ys(e,c,Mr)?(s.endsWith(V)||(s+=V),0===m&&(m=16,l||(m|=16877<<16))):l||0!==m||(m=w?493<<16:27525120);const g=Ys(e,c,"encodeText",Qe);let b=g(s);if(b===G&&(b=Qe(s)),ta(b)>C)throw new p(Us);const z=c[zr]||"";let S=g(z);if(S===G&&(S=Qe(z)),ta(S)>C)throw new p(vs);const x=Ys(e,c,Wr,20);if(x>C)throw new p(Cs);const R=Ys(e,c,Fr,new o),E=Ys(e,c,kr),F=Ys(e,c,Tr),_=Ys(e,c,Ar,0),k=Ys(e,c,Yr);let T,A;k||(T=Ys(e,c,qr),A=Ys(e,c,Kr));const v=Ys(e,c,"encryptionStrength",3),O=Ys(e,c,Or),M=Ys(e,c,"extendedTimestamp",!0),L=Ys(e,c,"keepOrder",!0),B=Ys(e,c,jr),H=Ys(e,c,"bufferedWrite"),Z=Ys(e,c,"dataDescriptorSignature",!1),j=Ys(e,c,Gr),X=Ys(e,c,"useUnicodeFileNames",!0),J=Ys(e,c,Br);let Q=Ys(e,c,"level"),$=Ys(e,c,Xr),ee=Ys(e,c,"dataDescriptor");H&&ee===G&&(ee=!1),(ee===G||O)&&(ee=!0),Q!==G&&6!=Q&&($=!1),$||e.config.CompressionStream!==G||e.config.CompressionStreamZlib!==G||(Q=0);let re=Ys(e,c,Cr);if(!O&&(T!==G||A!==G)&&(1>v||v>3))throw new p(Ns);let se=new f;const ae=c[Pr];if(ae){let e=0,t=0;ae.forEach(t=>e+=4+ta(t)),se=new f(e),ae.forEach((e,r)=>{if(r>C)throw new p(Ws);if(ta(e)>C)throw new p(Is);$s(se,new h([r]),t),$s(se,new h([ta(e)]),t+2),$s(se,e,t+4),t+=4+ta(e)})}let ne=0,ie=0,oe=0;if(k&&(oe=c[xr],oe===G))throw new p(Ms);const ce=!0===re;a&&(a=new qe(a),await Ye(a),k?(c.uncompressedSize=oe,ne=Gs(oe)):a.size===G?(ee=!0,(re||re===G)&&(re=!0,oe=ne=4294967296)):(c.uncompressedSize=oe=a.size,ne=Gs(oe)));const{diskOffset:le,diskNumber:de,maxSize:ue}=e.writer,pe=ce||oe>U,fe=ce||ne>U,he=ce||e.offset+e.pendingEntriesSize-le>U,we=Ys(e,c,Qr,!0)&&ce||de+i.ceil(e.pendingEntriesSize/ue)>C;if(he||pe||fe||we){if(!1===re||!L)throw new p(Os);re=!0}re=re||!1;const me=Ys(e,c,Nr),ge=(e=>{const{rawFilename:t,lastModDate:r,lastAccessDate:s,creationDate:a,level:o,zip64:c,zipCrypto:l,useUnicodeFileNames:d,dataDescriptor:u,directory:p,rawExtraField:h,encryptionStrength:w,extendedTimestamp:m,passThrough:g,encrypted:y,zip64UncompressedSize:b,zip64CompressedSize:z,zip64Offset:S,zip64DiskNumberStart:x,uncompressedSize:R,offset:D,diskNumberStart:E}=e;let{version:F,compressionMethod:_}=e;const k=!p&&(o>0||o===G&&0!==_);let T;const A=g||!k,v=c&&(e.bufferedWrite||!b&&!z||A);if(c){let e=4;b&&(e+=8),z&&(e+=8),S&&(e+=8),x&&(e+=4),T=new f(e);const t=ea(T);if(Xs(t,0,1),Xs(t,2,ta(T)-4),v){const e=ea(T);let t=4;b&&(Qs(e,t,n(R)),t+=8),z&&A&&(Qs(e,t,n(R)),t+=8),S&&(Qs(e,t,n(D)),t+=8),x&&(Js(e,t,E),t+=4)}}else T=new f;let U,C,W,I;if(y&&!l){U=new f(ta(Bs)+2);const e=ea(U);Xs(e,0,39169),$s(U,Bs,2),js(e,8,w)}else U=new f;if(m){W=new f(9+(s?4:0)+(a?4:0));const e=ea(W);Xs(e,0,P),Xs(e,2,ta(W)-4),I=1+(s?2:0)+(a?4:0),js(e,4,I);let t=5;Js(e,t,i.floor(r.getTime()/1e3)),t+=4,s&&(Js(e,t,i.floor(s.getTime()/1e3)),t+=4),a&&Js(e,t,i.floor(a.getTime()/1e3));try{C=new f(36);const e=ea(C),t=Ks(r);Xs(e,0,10),Xs(e,2,32),Xs(e,8,1),Xs(e,10,24),Qs(e,12,t),Qs(e,20,Ks(s)||t),Qs(e,28,Ks(a)||t)}catch(e){C=new f}}else C=W=new f;_===G&&(_=k?8:0),c&&(F=F>45?F:45),y&&!l&&(F=F>51?F:51,U[9]=_,_=99);const O=v?ta(T):0,M=O+ta(U,W,C,h),{headerArray:L,headerView:B,rawLastModDate:H}=ra({version:F,bitFlag:sa(o,d,u,y,_),compressionMethod:_,uncompressedSize:R,lastModDate:Y>r?Y:r>K?K:r,rawFilename:t,zip64CompressedSize:z,zip64UncompressedSize:b,extraFieldLength:M});let Z=q;const V=new f(Z+ta(t)+M),j=ea(V);return Js(j,0,N),$s(V,L,4),$s(V,t,Z),Z+=ta(t),v&&$s(V,T,Z),Z+=O,$s(V,U,Z),Z+=ta(U),$s(V,W,Z),Z+=ta(W),$s(V,C,Z),Z+=ta(C),$s(V,h,Z),u&&(Js(j,18,0),Js(j,22,0)),{localHeaderArray:V,localHeaderView:j,headerArray:L,headerView:B,lastModDate:r,rawLastModDate:H,encrypted:y,compressed:k,version:F,compressionMethod:_,extraFieldExtendedTimestampFlag:I,rawExtraFieldZip64:T,localExtraFieldZip64Length:O,rawExtraFieldExtendedTimestamp:W,rawExtraFieldNTFS:C,rawExtraFieldAES:U,extraFieldLength:M}})(c=r.assign({},c,{rawFilename:b,rawComment:S,version:x,versionMadeBy:u,lastModDate:R,lastAccessDate:E,creationDate:F,rawExtraField:se,zip64:re,zip64UncompressedSize:pe,zip64CompressedSize:fe,zip64Offset:he,zip64DiskNumberStart:we,password:T,rawPassword:A,level:Q,useWebWorkers:B,encryptionStrength:v,extendedTimestamp:M,zipCrypto:O,bufferedWrite:H,keepOrder:L,useUnicodeFileNames:X,dataDescriptor:ee,dataDescriptorSignature:Z,signal:j,msDosCompatible:l,internalFileAttribute:_,internalFileAttributes:_,externalFileAttribute:m,externalFileAttributes:m,useCompressionStream:$,passThrough:k,encrypted:!!(T&&ta(T)||A&&ta(A))||k&&me,signature:c[Hr],compressionMethod:J,uncompressedSize:oe,offset:e.offset-le,diskNumberStart:de})),ye=(({zip64:e,dataDescriptor:t,dataDescriptorSignature:r})=>{let s,a=new f,n=0,i=e?20:12;return r&&(i+=4),t&&(a=new f(i),s=ea(a),r&&(n=4,Js(s,0,I))),{dataDescriptorArray:a,dataDescriptorView:s,dataDescriptorOffset:n}})(c),be=ta(ge.localHeaderArray,ye.dataDescriptorArray);let ze;ie=be+ne,e.options[es]&&(ie+=ie+64),e.pendingEntriesSize+=ie;try{ze=await(async(e,s,a,i,o)=>{const{files:c,writer:l}=e,{keepOrder:u,dataDescriptor:h,signal:w}=o,{headerInfo:m}=i,g=e.options[es],b=t.from(c.values()).pop();let z,S,x,R,E,F,_,k={};c.set(s,k);try{let t;u&&(t=b&&b.lock,k.lock=new y(e=>x=e)),!(o.bufferedWrite||e.writerLocked||e.bufferedWrites&&u)&&h||g?(F=l,await T()):(F=new D,F.size=0,z=!0,e.bufferedWrites++,await Ye(l)),await Ye(F);const{writable:S,diskOffset:v}=l;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const t=new f(4);Js(ea(t),0,W),await qs(l,t),e.offset+=4}g&&((e,t)=>{const{headerInfo:r}=e;let{localHeaderArray:s,extraFieldLength:a}=r,n=ea(s),i=64-(t+ta(s))%64;4>i&&(i+=64);const o=new f(i),c=ea(o);Xs(c,0,6534),Xs(c,2,i-2);const l=s;r.localHeaderArray=s=new f(ta(l)+i),$s(s,l),$s(s,o,ta(l)),n=ea(s),Xs(n,28,a+i),e.metadataSize+=i})(i,e.offset-v);const{localHeaderView:C,localHeaderArray:N}=m;z||(await t,await A(S));const{diskNumber:I}=l;E=!0,k.diskNumberStart=I,z?_=new d(F.readable).blob():await qs(F,N),k=await(async(e,t,{diskNumberStart:s,lock:a},i,o,c)=>{const{headerInfo:l,dataDescriptorInfo:d,metadataSize:u}=i,{headerArray:p,headerView:f,lastModDate:h,rawLastModDate:w,encrypted:m,compressed:g,version:y,compressionMethod:b,rawExtraFieldZip64:z,localExtraFieldZip64Length:S,rawExtraFieldExtendedTimestamp:x,extraFieldExtendedTimestampFlag:R,rawExtraFieldNTFS:D,rawExtraFieldAES:E}=l,{dataDescriptorArray:F}=d,{rawFilename:_,lastAccessDate:k,creationDate:T,password:A,rawPassword:v,level:U,zip64:C,zip64UncompressedSize:N,zip64CompressedSize:W,zip64Offset:I,zip64DiskNumberStart:O,zipCrypto:M,dataDescriptor:L,directory:B,executable:H,versionMadeBy:P,rawComment:Z,rawExtraField:V,useWebWorkers:q,onstart:K,onprogress:Y,onend:j,signal:X,encryptionStrength:J,extendedTimestamp:Q,msDosCompatible:$,internalFileAttributes:ee,externalFileAttributes:re,useCompressionStream:se,passThrough:ae}=c,ne={lock:a,versionMadeBy:P,zip64:C,directory:!!B,executable:!!H,filenameUTF8:!0,rawFilename:_,commentUTF8:!0,rawComment:Z,rawExtraFieldZip64:z,localExtraFieldZip64Length:S,rawExtraFieldExtendedTimestamp:x,rawExtraFieldNTFS:D,rawExtraFieldAES:E,rawExtraField:V,extendedTimestamp:Q,msDosCompatible:$,internalFileAttributes:ee,externalFileAttributes:re,diskNumberStart:s};let{signature:ie,uncompressedSize:oe}=c,ce=0;ae||(oe=0);const{writable:le}=t;if(e){e.chunkSize=te(o);const r=e.readable,s=e.size,a={options:{codecType:$t,level:U,rawPassword:v,password:A,encryptionStrength:J,zipCrypto:m&&M,passwordVerification:m&&M&&w>>8&255,signed:!ae,compressed:g&&!ae,encrypted:m&&!ae,useWebWorkers:q,useCompressionStream:se,transferStreams:!1},config:o,streamOptions:{signal:X,size:s,onstart:K,onprogress:Y,onend:j}};try{const e=await hr({readable:r,writable:le},a);ce=e.outputSize,t.size+=ce,ae||(oe=e.inputSize,ie=e.signature)}catch(e){throw e.outputSize!==G&&(t.size+=e.outputSize),e}}return(({signature:e,compressedSize:t,uncompressedSize:r,headerInfo:s,dataDescriptorInfo:a},{zip64:i,zipCrypto:o,dataDescriptor:c})=>{const{headerView:l,encrypted:d}=s,{dataDescriptorView:u,dataDescriptorOffset:p}=a;d&&!o||e===G||(Js(l,10,e),c&&Js(u,p,e)),i?c&&(Qs(u,p+4,n(t)),Qs(u,p+12,n(r))):(Js(l,14,t),Js(l,18,r),c&&(Js(u,p+4,t),Js(u,p+8,r)))})({signature:ie,compressedSize:ce,uncompressedSize:oe,headerInfo:l,dataDescriptorInfo:d},c),L&&await qs(t,F),r.assign(ne,{uncompressedSize:oe,compressedSize:ce,lastModDate:h,rawLastModDate:w,creationDate:T,lastAccessDate:k,encrypted:m,zipCrypto:M,size:u+ce,compressionMethod:b,version:y,headerArray:p,headerView:f,signature:ie,extraFieldExtendedTimestampFlag:R,zip64UncompressedSize:N,zip64CompressedSize:W,zip64Offset:I,zip64DiskNumberStart:O}),ne})(a,F,k,i,e.config,o);const{zip64:O}=k;if(E=!1,c.set(s,k),k.filename=s,z){const[r]=await y.all([_,F.writable.getWriter().close(),t]);await T(),R=!0,k.diskNumberStart=l.diskNumber,k.offset=e.offset-l.diskOffset,O&&Vs(k),(({rawFilename:e,encrypted:t,zip64:r,localExtraFieldZip64Length:s,signature:a,compressedSize:i,uncompressedSize:o,offset:c,diskNumberStart:l,zip64UncompressedSize:d,zip64CompressedSize:u,zip64Offset:p,zip64DiskNumberStart:f},h,{dataDescriptor:w})=>{if(w||(t||Js(h,14,a),r||(Js(h,18,i),Js(h,22,o))),r&&s){let t=q+ta(e)+4;d&&(Qs(h,t,n(o)),t+=8),u&&(Qs(h,t,n(i)),t+=8),p&&(Qs(h,t,n(c)),t+=8),f&&Js(h,t,l)}})(k,C,o),await A(S),await qs(l,N),await r.stream().pipeTo(S,{preventClose:!0,preventAbort:!0,signal:w}),l.size+=F.size,R=!1}else k.offset=e.offset-v,O&&Vs(k);if(k.offset>U&&!O)throw new p(Os);return e.offset+=k.size,k}catch(t){if(z&&R||!z&&E){if(e.hasCorruptedEntries=!0,t)try{t.corruptedEntry=!0}catch(e){}z?e.offset+=F.size:e.offset=F.size}throw c.delete(s),t}finally{z&&e.bufferedWrites--,x&&x(),S&&S()}async function T(){e.writerLocked=!0;const{lockWriter:t}=e;e.lockWriter=new y(t=>S=()=>{e.writerLocked=!1,t()}),await t}async function A(e){ta(m.localHeaderArray)>l.availableSize&&(l.availableSize=0,await qs(e,new f))}})(e,s,a,{headerInfo:ge,dataDescriptorInfo:ye,metadataSize:be},c)}finally{e.pendingEntriesSize-=ie}return r.assign(ze,{name:s,comment:z,extraField:ae}),new Vr(ze)})(c,e,s,a),l.add(w),await w}catch(t){throw c.filenames.delete(e),t}finally{l.delete(w);const e=Ps.shift();e?e():Hs--}}remove(e){const{filenames:t,files:r}=this;if("string"==typeof e&&(e=r.get(e)),e&&e.filename!==G){const{filename:s}=e;if(t.has(s)&&r.has(s))return t.delete(s),r.delete(s),!0}return!1}async close(e=new f,r={}){const{pendingAddFileCalls:s,writer:a}=this,{writable:o}=a;for(;s.size;)await y.allSettled(t.from(s));return await(async(e,r,s)=>{const{files:a,writer:o}=e,{diskOffset:c}=o;let{diskNumber:l}=o,d=0,u=0,h=e.offset-c,w=a.size;for(const[,e]of a){const{rawFilename:t,rawExtraFieldZip64:r,rawExtraFieldAES:s,rawComment:a,rawExtraFieldNTFS:n,rawExtraField:o,extendedTimestamp:c,extraFieldExtendedTimestampFlag:l,lastModDate:d}=e;let p;if(c){p=new f(9);const e=ea(p);Xs(e,0,P),Xs(e,2,5),js(e,4,l),Js(e,5,i.floor(d.getTime()/1e3))}else p=new f;e.rawExtraFieldExtendedTimestamp=p,u+=46+ta(t,a,r,s,n,p,o)}const m=new f(u),g=ea(m);await Ye(o);let y=0;for(const[e,r]of t.from(a.values()).entries()){const{offset:t,rawFilename:n,rawExtraFieldZip64:i,rawExtraFieldAES:c,rawExtraFieldExtendedTimestamp:l,rawExtraFieldNTFS:u,rawExtraField:p,rawComment:f,versionMadeBy:h,headerArray:w,headerView:b,zip64:z,zip64UncompressedSize:S,zip64CompressedSize:x,zip64DiskNumberStart:R,zip64Offset:D,internalFileAttributes:E,externalFileAttributes:F,diskNumberStart:_,uncompressedSize:k,compressedSize:T}=r,A=ta(i,c,l,u,p);Js(g,d,O),Xs(g,d+4,h),S||Js(b,18,k),x||Js(b,14,T),$s(m,w,d+6);let v=d+q;if(Xs(g,v,A),v+=2,Xs(g,v,ta(f)),v+=2,Xs(g,v,z&&R?C:_),v+=2,Xs(g,v,E),v+=2,F&&Js(g,v,F),v+=4,Js(g,v,z&&D?U:t),v+=4,$s(m,n,v),v+=ta(n),$s(m,i,v),v+=ta(i),$s(m,c,v),v+=ta(c),$s(m,l,v),v+=ta(l),$s(m,u,v),v+=ta(u),$s(m,p,v),v+=ta(p),$s(m,f,v),d-y>o.availableSize&&(o.availableSize=0,await qs(o,m.slice(y,d)),y=d),d=v,s.onprogress)try{await s.onprogress(e+1,a.size,new Vr(r))}catch(e){}}await qs(o,y?m.slice(y):m);let b=o.diskNumber;const{availableSize:z}=o;H>z&&b++;let S=Ys(e,s,Cr);if(h>U||u>U||w>C||b>C){if(!1===S)throw new p(Os);S=!0}const x=new f(S?98:H),R=ea(x);d=0,S&&(Js(R,0,L),Qs(R,4,n(44)),Xs(R,12,45),Xs(R,14,45),Js(R,16,b),Js(R,20,l),Qs(R,24,n(w)),Qs(R,32,n(w)),Qs(R,40,n(u)),Qs(R,48,n(h)),Js(R,56,B),Qs(R,64,n(h)+n(u)),Js(R,72,b+1),Ys(e,s,Qr,!0)&&(b=C,l=C),w=C,h=U,u=U,d+=76),Js(R,d,M),Xs(R,d+4,b),Xs(R,d+6,l),Xs(R,d+8,w),Xs(R,d+10,w),Js(R,d+12,u),Js(R,d+16,h);const D=ta(r);if(D){if(D>C)throw new p(As);Xs(R,d+20,D)}await qs(o,x),D&&await qs(o,r)})(this,e,r),Ys(this,r,Jr)||await o.getWriter().close(),a.getData?a.getData():o}}function Vs({compressedSize:e,uncompressedSize:t,offset:r,diskNumberStart:s,zip64UncompressedSize:a,zip64CompressedSize:i,zip64Offset:o,zip64DiskNumberStart:c,rawExtraFieldZip64:l}){const d=ea(l);let u=4;a&&(Qs(d,u,n(t)),u+=8),i&&(Qs(d,u,n(e)),u+=8),o&&(Qs(d,u,n(r)),u+=8),c&&Js(d,u,s)}async function qs(e,t){const{writable:r}=e,s=r.getWriter();try{await s.ready,e.size+=ta(t),await s.write(t)}finally{s.releaseLock()}}function Ks(e){if(e)return(n(e.getTime())+n(116444736e5))*n(1e4)}function Ys(e,t,r,s){const a=t[r]===G?e.options[r]:t[r];return a===G?s:a}function Gs(e){return e+5*(i.floor(e/16383)+1)}function js(e,t,r){e.setUint8(t,r)}function Xs(e,t,r){e.setUint16(t,r,!0)}function Js(e,t,r){e.setUint32(t,r,!0)}function Qs(e,t,r){e.setBigUint64(t,r,!0)}function $s(e,t,r){e.set(t,r)}function ea(e){return new m(e.buffer)}function ta(...e){let t=0;return e.forEach(e=>e&&(t+=e.length)),t}function ra({version:e,bitFlag:t,compressionMethod:r,uncompressedSize:s,compressedSize:a,lastModDate:n,rawFilename:i,zip64CompressedSize:o,zip64UncompressedSize:c,extraFieldLength:l}){const d=new f(26),u=ea(d);Xs(u,0,e),Xs(u,2,t),Xs(u,4,r);const p=new w(1),h=ea(p);Xs(h,0,(n.getHours()<<6|n.getMinutes())<<5|n.getSeconds()/2),Xs(h,2,(n.getFullYear()-1980<<4|n.getMonth()+1)<<5|n.getDate());const m=p[0];return Js(u,6,m),(o||a!==G)&&Js(u,14,o?U:a),(c||s!==G)&&Js(u,18,c?U:s),Xs(u,22,ta(i)),Xs(u,24,l),{headerArray:d,headerView:u,rawLastModDate:m}}function sa(e,t,r,s,a){let n=0;return t&&(n|=Z),r&&(n|=8),8!=a&&9!=a||(0>e||e>3||(n|=6),e>3&&5>=e&&(n|=4),9==e&&(n|=2)),s&&(n|=1),n}let aa;try{aa=void 0===S&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:void 0===S?location.href:v&&"SCRIPT"===v.tagName.toUpperCase()&&v.src||new u("zip-fs-core.min.js",S.baseURI).href}catch(e){}re({baseURI:aa,CompressionStreamZlib:class{constructor(e="deflate",t){return ce(!0,e,t)}},DecompressionStreamZlib:class{constructor(e="deflate",t){return ce(!1,e,t)}}});class na{constructor(e,t,s,a){const n=this;if(e.root&&a&&a.getChildByName(t))throw new p("Entry filename already exists");s||(s={}),r.assign(n,{fs:e,name:t,data:s.data,options:s.options,id:e.entries.length,parent:a,children:[],uncompressedSize:s.uncompressedSize||0,passThrough:s.passThrough}),e.entries.push(n),a&&n.parent.children.push(n)}moveTo(e){this.fs.move(this,e)}getFullname(){return this.getRelativeName()}getRelativeName(e=this.fs.root){let t=this.name,r=this.parent;for(;r&&r!=e;)t=(r.name?r.name+"/":"")+t,r=r.parent;return t}isDescendantOf(e){let t=this.parent;for(;t&&t.id!=e.id;)t=t.parent;return!!t}rename(e){const t=this.parent;if(t&&t.getChildByName(e))throw new p("Entry filename already exists");this.name=e}}class ia extends na{constructor(e,t,r,s){super(e,t,r,s);const a=this;a.Reader=r.Reader,a.Writer=r.Writer,r.getData&&(a.getData=r.getData)}clone(){return new ia(this.fs,this.name,this)}async getData(e,t={}){const r=this;if(!e||e.constructor==r.Writer&&r.data)return r.data;{const s=r.reader=new r.Reader(r.data,t),a=r.data?r.data.uncompressedSize:s.size;await y.all([Ye(s),Ye(e,a)]);const{readable:n}=s;return r.uncompressedSize=s.size,await n.pipeTo(e.writable),e.getData?e.getData():e.writable}}isPasswordProtected(){return this.data.encrypted}async checkPassword(e,t={}){const r=this;if(!r.isPasswordProtected())return!0;t.password=e,t.checkPasswordOnly=!0;try{return await r.data.getData(null,t),!0}catch(e){if(e.message==nt)return!1;throw e}}getText(e,t){return this.getData(new Fe(e),t)}getBlob(e,t){return this.getData(new De(e),t)}getData64URI(e,t){return this.getData(new xe(e),t)}getUint8Array(e){return this.getData(new Pe,e)}getWritable(e=new F,t){return this.getData({writable:e},t)}getArrayBuffer(e){return this.data.arrayBuffer(e)}replaceBlob(e){r.assign(this,{data:e,Reader:Re,Writer:De,reader:null})}replaceText(e){r.assign(this,{data:e,Reader:Ee,Writer:Fe,reader:null})}replaceData64URI(e){r.assign(this,{data:e,Reader:Se,Writer:xe,reader:null})}replaceUint8Array(e){r.assign(this,{data:e,Reader:He,Writer:Pe,reader:null})}replaceReadable(e){r.assign(this,{data:null,Reader:()=>({readable:e}),Writer:null,reader:null})}}class oa extends na{constructor(e,t,r,s){super(e,t,r,s),this.directory=!0}clone(e){const t=this,r=new oa(t.fs,t.name);return e&&(r.children=t.children.map(t=>{const s=t.clone(e);return s.parent=r,s})),r}addDirectory(e,t){return wa(this,e,{options:t},!0)}addText(e,t,r={}){return wa(this,e,{data:t,Reader:Ee,Writer:Fe,options:r,uncompressedSize:t.length})}addBlob(e,t,r={}){return wa(this,e,{data:t,Reader:Re,Writer:De,options:r,uncompressedSize:t.size})}addData64URI(e,t,r={}){let s=t.length;for(;"="==t.charAt(s-1);)s--;const a=t.indexOf(",")+1;return wa(this,e,{data:t,Reader:Se,Writer:xe,options:r,uncompressedSize:i.floor(.75*(s-a))})}addUint8Array(e,t,r={}){return wa(this,e,{data:t,Reader:He,Writer:Pe,options:r,uncompressedSize:t.length})}addHttpContent(e,t,r={}){return wa(this,e,{data:t,Reader:class extends Be{constructor(e){super(e,r)}},options:r})}addReadable(e,t,r={}){return wa(this,e,{Reader:()=>({readable:t}),options:r})}addFileSystemEntry(e,t={}){return pa(this,e,t)}addFileSystemHandle(e,t={}){return pa(this,e,t)}addFile(e,t={}){return t.lastModDate||(t.lastModDate=new o(e.lastModified)),wa(this,e.name,{data:e,Reader:()=>({readable:e.stream(),size:e.size}),options:t,uncompressedSize:e.size})}addData(e,t){return wa(this,e,t)}importBlob(e,t){return this.importZip(new Re(e),t)}importData64URI(e,t){return this.importZip(new Se(e),t)}importUint8Array(e,t){return this.importZip(new He(e),t)}importHttpContent(e,t){return this.importZip(new Be(e,t),t)}importReadable(e,t){return this.importZip({readable:e},t)}exportBlob(e={}){return this.exportZip(new De(e.mimeType||"application/zip"),e)}exportData64URI(e={}){return this.exportZip(new xe(e.mimeType||"application/zip"),e)}exportUint8Array(e={}){return this.exportZip(new Pe,e)}async exportWritable(e=new F,t={}){return await this.exportZip({writable:e},t),e}async importZip(e,t={}){await Ye(e);const s=new ms(e,t),a=[],n=await s.getEntries();for(const e of n){let s=this;try{const n=e.filename.split("/"),i=n.pop();n.forEach((t,r)=>{const i=s;s=s.getChildByName(t),s||(s=new oa(this.fs,t,{data:r==n.length-1?e:null},i),a.push(s))}),e.directory||a.push(wa(s,i,{data:e,Reader:la(r.assign({},t)),uncompressedSize:e.uncompressedSize,passThrough:t.passThrough}))}catch(t){try{t.cause={entry:e}}catch(e){}throw t}}return a}async exportZip(e,s){const a=this;s.bufferedWrite===G&&(s.bufferedWrite=!0),await y.all([da(a,s.readerOptions),Ye(e)]);const n=new Zs(e,s);return await(async(e,s,a,n)=>{const i=s,o=new c;await async function e(s,c){async function l(c){const l=n.relativePath?c.getRelativeName(i):c.getFullname(),d=c.options||{};let u={};if(c.data instanceof Vr){const{externalFileAttributes:e,versionMadeBy:t,comment:s,lastModDate:a,creationDate:n,lastAccessDate:i,uncompressedSize:o,encrypted:l,zipCrypto:d,signature:p,compressionMethod:f,extraFieldAES:h}=c.data;if(u={externalFileAttributes:e,versionMadeBy:t,comment:s,lastModDate:a,creationDate:n,lastAccessDate:i},c.passThrough){let e,t;0===f&&(e=0),h&&(t=h.strength),u=r.assign(u,{passThrough:!0,encrypted:l,zipCrypto:d,signature:p,uncompressedSize:o,level:e,encryptionStrength:t,compressionMethod:f})}}await s.add(l,c.reader,r.assign({},n,u,d,{directory:c.directory,onprogress:async e=>{if(n.onprogress){o.set(l,e);try{await n.onprogress(t.from(o.values()).reduce((e,t)=>e+t),a)}catch(e){}}}})),await e(s,c)}await(async()=>{if(n.bufferedWrite)await y.allSettled(c.children.map(l));else for(const e of c.children)await l(e)})()}(e,s)})(n,a,(e=>{let t=0;return e.forEach(function e(r){t+=r.uncompressedSize,r.children&&r.children.forEach(e)}),t})([a]),s),await n.close(),e.getData?e.getData():e.writable}getChildByName(e){const t=this.children;for(let r=0;r<t.length;r++){const s=t[r];if(s.name==e)return s}}isPasswordProtected(){const e=this.children;for(let t=0;t<e.length;t++)if(e[t].isPasswordProtected())return!0;return!1}async checkPassword(e,t={}){const r=this.children;return!(await y.all(r.map(r=>r.checkPassword(e,t)))).includes(!1)}}const ca={FS:class{constructor(){ha(this)}get children(){return this.root.children}remove(e){ua(e),this.entries[e.id]=null}move(e,t){if(e==this.root)throw new p("Root directory cannot be moved");if(!t.directory)throw new p("Target entry is not a directory");if(t.isDescendantOf(e))throw new p("Entry is a ancestor of target entry");if(e!=t){if(t.getChildByName(e.name))throw new p("Entry filename already exists");ua(e),e.parent=t,t.children.push(e)}}find(e){const t=e.split("/");let r=this.root;for(let e=0;r&&e<t.length;e++)r=r.getChildByName(t[e]);return r}getById(e){return this.entries[e]}getChildByName(e){return this.root.getChildByName(e)}addDirectory(e,t){return this.root.addDirectory(e,t)}addText(e,t,r){return this.root.addText(e,t,r)}addBlob(e,t,r){return this.root.addBlob(e,t,r)}addData64URI(e,t,r){return this.root.addData64URI(e,t,r)}addUint8Array(e,t,r){return this.root.addUint8Array(e,t,r)}addHttpContent(e,t,r){return this.root.addHttpContent(e,t,r)}addReadable(e,t,r){return this.root.addReadable(e,t,r)}addFileSystemEntry(e,t){return this.root.addFileSystemEntry(e,t)}addFileSystemHandle(e,t){return this.root.addFileSystemHandle(e,t)}addFile(e,t){return this.root.addFile(e,t)}addData(e,t){return this.root.addData(e,t)}importBlob(e,t){return ha(this),this.root.importBlob(e,t)}importData64URI(e,t){return ha(this),this.root.importData64URI(e,t)}importUint8Array(e,t){return ha(this),this.root.importUint8Array(e,t)}importHttpContent(e,t){return ha(this),this.root.importHttpContent(e,t)}importReadable(e,t){return ha(this),this.root.importReadable(e,t)}importZip(e,t){return this.root.importZip(e,t)}exportBlob(e){return this.root.exportBlob(e)}exportData64URI(e){return this.root.exportData64URI(e)}exportUint8Array(e){return this.root.exportUint8Array(e)}exportWritable(e,t){return this.root.exportWritable(e,t)}isPasswordProtected(){return this.root.isPasswordProtected()}checkPassword(e,t){return this.root.checkPassword(e,t)}},ZipDirectoryEntry:oa,ZipFileEntry:ia};function la(e){return class extends be{constructor(e,t={}){super(),this.entry=e,this.options=t}async init(){const t=this;t.size=t.entry.uncompressedSize;const s=await t.entry.getData(new De,r.assign({},t.options,e));t.data=s,t.blobReader=new Re(s),super.init()}readUint8Array(e,t){return this.blobReader.readUint8Array(e,t)}}}async function da(e,t){e.children.length&&await y.all(e.children.map(async e=>{if(e.directory)await da(e,t);else{const r=e.reader=new e.Reader(e.data,t);try{await Ye(r)}catch(t){try{t.entryId=e.id,t.cause={entry:e}}catch(e){}throw t}e.uncompressedSize=r.size}}))}function ua(e){if(e.parent){const t=e.parent.children;t.forEach((r,s)=>{r.id==e.id&&t.splice(s,1)})}}function pa(e,t,s){return async function e(t,a,n){if(a)try{if((a.isFile||a.isDirectory)&&(a=await fa(a)),"file"==a.kind){const e=await a.getFile();n.push(t.addData(e.name,{Reader:()=>({readable:e.stream(),size:e.size}),options:r.assign({},{lastModDate:new o(e.lastModified)},s),uncompressedSize:e.size}))}else if("directory"==a.kind){const r=t.addDirectory(a.name);n.push(r);for await(const t of a.values())await e(r,t,n)}}catch(e){const t=e.message+(a?" ("+a.name+")":"");throw new p(t)}return n}(e,t,[])}async function fa(e){const t={name:e.name};if(e.isFile&&(t.kind="file",t.getFile=()=>new y((t,r)=>e.file(t,r))),e.isDirectory){t.kind="directory";const r=await(async e=>{const t=[];function r(e,s,a){e.readEntries(async n=>{if(n.length){for(const e of n)t.push(await fa(e));r(e,s,a)}else s(t)},a)}return await new y((t,s)=>r(e.createReader(),t,s)),{[Symbol.iterator](){let e=0;return{next(){const r={value:t[e],done:e==t.length};return e++,r}}}}})(e);t.values=()=>r}return t}function ha(e){e.entries=[],e.root=new oa(e)}function wa(e,t,r,s){if(e.directory)return s?new oa(e.fs,t,r,e):new ia(e.fs,t,r,e);throw new p("Parent entry is not a directory")}e.BlobReader=Re,e.BlobWriter=De,e.Data64URIReader=Se,e.Data64URIWriter=xe,e.ERR_BAD_FORMAT=ts,e.ERR_CENTRAL_DIRECTORY_NOT_FOUND=as,e.ERR_DUPLICATED_NAME=Ts,e.ERR_ENCRYPTED=os,e.ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND=ss,e.ERR_EOCDR_NOT_FOUND=rs,e.ERR_EXTRAFIELD_ZIP64_NOT_FOUND=is,e.ERR_HTTP_RANGE=pe,e.ERR_INVALID_COMMENT=As,e.ERR_INVALID_ENCRYPTION_STRENGTH=Ns,e.ERR_INVALID_ENTRY_COMMENT=vs,e.ERR_INVALID_ENTRY_NAME=Us,e.ERR_INVALID_EXTRAFIELD_DATA=Is,e.ERR_INVALID_EXTRAFIELD_TYPE=Ws,e.ERR_INVALID_PASSWORD=nt,e.ERR_INVALID_SIGNATURE=it,e.ERR_INVALID_UNCOMPRESSED_SIZE=qt,e.ERR_INVALID_VERSION=Cs,e.ERR_LOCAL_FILE_HEADER_NOT_FOUND=ns,e.ERR_OVERLAPPING_ENTRY=us,e.ERR_SPLIT_ZIP_FILE=ds,e.ERR_UNDEFINED_UNCOMPRESSED_SIZE=Ms,e.ERR_UNSUPPORTED_COMPRESSION=ls,e.ERR_UNSUPPORTED_ENCRYPTION=cs,e.ERR_UNSUPPORTED_FORMAT=Os,e.ERR_ZIP_NOT_EMPTY=Ls,e.HttpRangeReader=class extends Be{constructor(e,t={}){t.useRangeHeader=!0,super(e,t)}},e.HttpReader=Be,e.Reader=be,e.SplitDataReader=Ze,e.SplitDataWriter=Ve,e.TextReader=Ee,e.TextWriter=Fe,e.Uint8ArrayReader=He,e.Uint8ArrayWriter=Pe,e.Writer=ze,e.ZipReader=ms,e.ZipReaderStream=class{constructor(e={}){const{readable:t,writable:r}=new D,s=new ms(t,e).getEntriesGenerator();this.readable=new E({async pull(e){const{done:t,value:r}=await s.next();if(t)return e.close();const a={...r,readable:(()=>{const{readable:e,writable:t}=new D;if(r.getData)return r.getData(t),e})()};delete a.getData,e.enqueue(a)}}),this.writable=r}},e.ZipWriter=Zs,e.ZipWriterStream=class{constructor(e={}){const{readable:t,writable:r}=new D;this.readable=t,this.zipWriter=new Zs(r,e)}transform(e){const{readable:t,writable:r}=new D({flush:()=>{this.zipWriter.close()}});return this.zipWriter.add(e,t),{readable:this.readable,writable:r}}writable(e){const{readable:t,writable:r}=new D;return this.zipWriter.add(e,t),r}close(e,t={}){return this.zipWriter.close(e,t)}},e.configure=re,e.fs=ca,e.getMimeType=()=>"application/octet-stream",e.resetWasmModule=de,e.terminateWorkers=async()=>{await y.allSettled(ur.map(e=>(wr(e),e.terminate()))),de()}});
